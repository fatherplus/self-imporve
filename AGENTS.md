# Self-Improve 知识库

**语言规则：始终使用中文回答用户问题。**

你有一个个人知识库可用，包含可复用的代码模块，通过 MCP 服务 `self-improve-modules` 按需检索。

## 模块检索（强制规则）

<MANDATORY>
在编写任何功能代码之前，你 **必须** 先调用 `search_modules` 检索知识库。

这不是建议，这是强制要求。不检索就写代码 = 重复造轮子。
</MANDATORY>

### 触发条件

以下场景 **必须** 在动手写代码前调用 `search_modules`：

- 创建新文件、新模块、新组件
- 实现 HTTP 请求、认证、数据库操作等通用功能
- 搭建项目脚手架或初始化项目结构
- 编写工具函数（日志、格式化、校验等）

### 检索流程

```
1. search_modules(query)            → 搜索匹配模块
2. 有结果 → get_module_api(name)    → 查看 API，评估是否适用
3. 适用   → install_module(name, target_dir) → 安装使用
4. 不适用 / 无结果 → 自行实现
```

### 反合理化清单

如果你脑中出现以下想法，**停下来，先去检索**：

| 你的想法 | 现实 |
|---------|------|
| "这个功能很简单，自己写更快" | 简单功能正是模块库最擅长的。检索只需 1 秒。 |
| "我知道怎么实现" | 知道怎么实现 ≠ 不需要检索。模块库可能有更好的实现。 |
| "这个太定制化了，不可能有现成的" | 你没检索过，不要猜。先查再说。 |
| "我先写完再看有没有模块" | 写完再查 = 白写。检索在前，实现在后。 |
| "上次检索没结果" | 模块库持续更新。每次都要重新检索。 |

### 模块类型

| 类型 | 说明 | 使用方式 |
|------|------|----------|
| utility | 单文件工具函数 | install 后直接 import |
| component | 多文件业务模块 | install 后按 adapt_points 适配 |
| blueprint | 项目架构模板 | 不安装，用 get_module_api 查看架构指导后按蓝图生成 |

### 使用原则

- 模块是黑盒依赖。**不要读源码**，只看 API，直接安装使用。
- 找到匹配模块时，**优先使用模块**，不要自己重写。
- 没有完美匹配时，安装最接近的模块再做适配。

## 常用命令

对话中，用户可能使用以下命令：

- `/commit` — 使用 git-master skill 对当前仓库执行规范 commit
- `/distill-skill` — 提炼可复用的经验为 skill，写入知识库仓库
- `/distill-module` — 提炼可复用的代码为 module，注册到知识库仓库

执行时按命令中的指引操作。

## 知识库路径

__REPO_PATH__
